<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Marketplace Feed API - Marketplace Feed API</title><link rel="stylesheet" href="/css/foundation.min.css">
<link rel="stylesheet" href="/css/styles.css">
<link rel="stylesheet" href="/css/code/styles/github-gist.css">
<script src="/js/jquery.js"></script>
<script src="/js/highlight.pack.js"></script>
<script src="/js/foundation.min.js"></script>
<script src="/js/foundation/foundation.magellan.js"></script>
<script src="/js/Core.js"></script>
<script>

    $(document).ready(function() {
        $('.content pre>code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
        Core.init();
    });
</script></head><body><div class="row full-width"><nav class="large-12 small-12 columns" id="sitenav"><a class="logo" href="/"><img src="/images/DevLogo2.png"/></a><div id="apititle" class="large-offset-2 small-offset-2 columns"><div>Marketplace Feed</div></div></nav></div><div class="row full-width stickyheader"><div class="large-12 columns sections"><a href="/apis/marketplace-feed/quickstart.html">Quickstart</a><a href="/apis/marketplace-feed/reference.html">Reference</a><a href="/apis/marketplace-feed/swagger.html">Swagger</a></div></div><div class="hide-for-small-only medium-3 large-2 menu"><nav role="navigation" class="sidebar-nav"><ul class="sidebar-nav-items"><li class="depth1"><a class="sidebar-nav-item" href="#marketplace-feed-api">Marketplace Feed API</a></li><li class="depth2"><a class="sidebar-nav-item" href="#authentication">Authentication</a></li><li class="depth2"><a class="sidebar-nav-item" href="#messages-endpoint">Messages Endpoint</a></li><li class="depth3"><a class="sidebar-nav-item" href="#request-parameters">Request Parameters</a></li><li class="depth3"><a class="sidebar-nav-item" href="#response">Response</a></li><li class="depth4"><a class="sidebar-nav-item" href="#http-status-codes">HTTP Status Codes</a></li><li class="depth4"><a class="sidebar-nav-item" href="#response-content">Response Content</a></li><li class="depth4"><a class="sidebar-nav-item" href="#message-categories">Message Categories</a></li></ul></nav></div><div class="row full-width"><div class="small-12 medium-9 medium-offset-3 large-10 large-offset-2 columns content"><h1 id="marketplace-feed-api">Marketplace Feed API</h1>
<h2 id="authentication">Authentication</h2>
<p>The Marketplace Feed API requires HTTP basic auth credentials to be supplied with every request.</p>
<p>Credentials must match a valid hotelier username/password.  If data for a specific hotel or list of hotels is being requested, the credentials must be authorized to acess data for those hotels.</p>
<h2 id="messages-endpoint">Messages Endpoint</h2>
<pre><code>GET https://marketplace-feed.prod-p.expedia.com/v1/messages
</code></pre><p>The <code>/v1/messages</code> endpoint returns a list of messages for a given hotel.</p>
<p>Every message has a set of <a href="#standard-message-properties">standard properties</a>, and may also have different <code>values</code> sub-properties specific to the message&#39;s <a href="#message-categories">category</a>.</p>
<p>Addition of new properties is not considered a breaking API change, and will not necessarily result in a new API version - you should build your clients with this assumption in mind.</p>
<p>Addition of new message categories (and their corresponding new <code>values</code> properties) is also not considered a breaking change - your client should ignore any messages belonging to a category it doesn&#39;t understand.</p>
<h3 id="request-parameters">Request Parameters</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Parameter Type</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hotelId</code></td>
<td>Query</td>
<td>String</td>
<td><code>123</code></td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td>Header</td>
<td>String</td>
<td><code>Basic dGVzdDp0ZXN0</code></td>
</tr>
<tr>
<td><code>Client-Id</code></td>
<td>Header</td>
<td>String</td>
<td><code>YourOrganization</code></td>
</tr>
</tbody>
</table>
<h3 id="response">Response</h3>
<h4 id="http-status-codes">HTTP Status Codes</h4>
<table>
<thead>
<tr>
<th>Code</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>200 OK</td>
<td>Request was successful.</td>
</tr>
<tr>
<td>401 Unauthorized</td>
<td>Invalid username or password.</td>
</tr>
<tr>
<td>403 Forbidden</td>
<td>Auth credentials are valid, but user is not authorized for the requested hotel.</td>
</tr>
<tr>
<td>406 Not Acceptable</td>
<td>Request does not indicate acceptance of an <code>application/json</code> response.</td>
</tr>
<tr>
<td>412 Precondition Failed</td>
<td>Client-Id header or hotelId query parameter is invalid/missing.</td>
</tr>
</tbody>
</table>
<h4 id="response-content">Response Content</h4>
<p>When successful, the <code>/v1/messages</code> endpoint responds with a JSON object with <code>Content-Type: application/json</code>.</p>
<h5 id="top-level-properties">Top-Level Properties</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>messages</code></td>
<td>Array</td>
<td>A collection of <code>Message</code> objects.</td>
<td><code>[]</code></td>
</tr>
</tbody>
</table>
<h5 id="standard-message-properties">Standard Message Properties</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Data Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>String</td>
<td>A unique identifier for the message.</td>
<td><code>&quot;95fbaf423d3d6c5cb32a247aedc97d64b9ae1aff&quot;</code></td>
</tr>
<tr>
<td><code>category</code></td>
<td>String</td>
<td>The message type.</td>
<td><code>&quot;Missing Inventory&quot;</code></td>
</tr>
<tr>
<td><code>hotelId</code></td>
<td>String</td>
<td>The Expedia ID of the hotel the message is for.</td>
<td><code>&quot;123&quot;</code></td>
</tr>
<tr>
<td><code>shortMessage</code></td>
<td>String</td>
<td>A shorter version of longMessage.</td>
<td><code>&quot;On 2015-10-20 you can sell 5 more rooms with Expedia. Add inventory now.&quot;</code></td>
</tr>
<tr>
<td><code>longMessage</code></td>
<td>String</td>
<td>The text message intended for the hotelier.</td>
<td><code>&quot;On 2015-10-20 you have only 10 rooms left. Our sales forecast shows that we can sell 5 more rooms.&quot;</code></td>
</tr>
<tr>
<td><code>actionURL</code></td>
<td>String</td>
<td>A URL that can be used to perform actions related to the message.  The value of this property may be <code>null</code>.</td>
<td><code>&quot;https://he.expediapartnercentral.com/HotelExtranet/InventoryGrid.htm?helpCtx=InventoryGrid&amp;htid=123&quot;</code></td>
</tr>
<tr>
<td><code>values</code></td>
<td>Object</td>
<td>An object representing attributes for this message.  Properties vary according to the message <code>category</code>.</td>
<td><code>{ &quot;currentRooms&quot;: 10 }</code></td>
</tr>
</tbody>
</table>
<h4 id="message-categories">Message Categories</h4>
<p>Each message may belong to one of the following categories (as indicated by its <code>category</code> property).</p>
<h5 id="missing-inventory">Missing Inventory</h5>
<p>Our sales forecast indicates that we can sell more inventory for the requested hotel on a certain night.</p>
<h6 id="-code-values-code-properties"><code>values</code> Properties</h6>
<table>
<thead>
<tr>
<th>Property</th>
<th>Data Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>date</code></td>
<td>String</td>
<td>The date the forecast applies to (YYYY-MM-DD).</td>
<td><code>&quot;2016-07-10&quot;</code></td>
</tr>
<tr>
<td><code>currentRooms</code></td>
<td>Integer</td>
<td>The current number of rooms available when the forecast was generated.</td>
<td><code>3</code></td>
</tr>
<tr>
<td><code>roomsToAdd</code></td>
<td>Integer</td>
<td>The number of extra rooms the forecast suggests we could sell.</td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>roomTypeId</code></td>
<td>String</td>
<td>The Expedia room type ID we suggest adding rooms to.</td>
<td><code>&quot;12345&quot;</code></td>
</tr>
</tbody>
</table>
<h6 id="example-missing-inventory-message">Example Missing Inventory Message</h6>
<pre><code>{
    &quot;id&quot;: &quot;2379cce04a79d3669717de302c8a45bf20f0cf5e&quot;,
    &quot;hotelId&quot;: &quot;test&quot;,
    &quot;category&quot;: &quot;Missing Inventory&quot;,
    &quot;shortMessage&quot;: &quot;On Nov 19, 2015 you can sell 5 more rooms with Expedia. Add inventory now.&quot;,
    &quot;longMessage&quot;: &quot;On Nov 19, 2015 you have only 10 rooms left. Our sales forecast shows that we can sell 5 more rooms.&quot;,
    &quot;values&quot;: {
        &quot;date&quot;: &quot;2015-11-19&quot;,
        &quot;currentRooms&quot;: 10,
        &quot;roomsToAdd&quot;: 5,
        &quot;roomTypeId&quot;: &quot;12345&quot;
    },
    &quot;actionURL&quot;: &quot;https://he.expediapartnercentral.com/HotelExtranet/InventoryGrid.htm?helpCtx=InventoryGrid&amp;htid=test&quot;
}
</code></pre><h5 id="missed-opportunities">Missed Opportunities</h5>
<p>Travelers viewed the requested hotel, but booked elsewhere.</p>
<h6 id="-code-values-code-properties-2"><code>values</code> Properties</h6>
<table>
<thead>
<tr>
<th>Property</th>
<th>Data Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>count</code></td>
<td>Integer</td>
<td>The number of travelers checking in today with another hotel.</td>
<td><code>3</code></td>
</tr>
<tr>
<td><code>missedOpportunities</code></td>
<td>Array</td>
<td>A collection of <code>Missed Opportunity</code> objects.</td>
<td>[]</td>
</tr>
</tbody>
</table>
<p><code>Missed Opportunity</code> objects have the following properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Data Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hotelId</code></td>
<td>String</td>
<td>The ID of the hotel the guest booked with.</td>
<td><code>&quot;25280&quot;</code></td>
</tr>
<tr>
<td><code>hotelName</code></td>
<td>String</td>
<td>The name of the hotel the guest booked with.</td>
<td><code>&quot;The Verb Hotel&quot;</code></td>
</tr>
<tr>
<td><code>bookings</code></td>
<td>Integer</td>
<td>The number of travelers checking in today who booked with this hotel after viewing the requested hotel.</td>
<td><code>2</code></td>
</tr>
</tbody>
</table>
<h6 id="example-missed-opportunities-message">Example Missed Opportunities Message</h6>
<pre><code>{
    &quot;id&quot;: &quot;9c16e2adf1734b253e405f5d6e3a42c035dab81c&quot;,
    &quot;hotelId&quot;: &quot;test&quot;,
    &quot;category&quot;: &quot;Missed Opportunities&quot;,
    &quot;shortMessage&quot;: &quot;So far, you lost 3 bookings today.&quot;,
    &quot;longMessage&quot;: &quot;3 travelers arriving in your market today viewed your property but booked elsewhere.&quot;,
    &quot;values&quot;: {
        &quot;count&quot;: 3,
        &quot;missedOpportunities&quot;: [
            {
                &quot;hotelId&quot;: &quot;25280&quot;,
                &quot;hotelName&quot;: &quot;The Verb Hotel&quot;,
                &quot;bookings&quot;: 2
            },
            {
                &quot;hotelId&quot;: &quot;119162&quot;,
                &quot;hotelName&quot;: &quot;Le Meridien Cambridge-MIT&quot;,
                &quot;bookings&quot;: 1
            }
        ]
    },
    &quot;actionURL&quot;: &quot;https://he.expediapartnercentral.com/HotelExtranet/InventoryGrid.htm?helpCtx=InventoryGrid&amp;htid=test&quot;
}
</code></pre><h5 id="real-time-feedback">Real-Time Feedback</h5>
<p>A guest currently staying at the requested hotel has provided real-time feedback that management has not yet responded to.</p>
<h6 id="-code-values-code-properties-3"><code>values</code> Properties</h6>
<table>
<thead>
<tr>
<th>Property</th>
<th>Data Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>itineraryId</code></td>
<td>String</td>
<td>The Expedia itineraty ID of the guest&#39;s booking.</td>
<td><code>&quot;12345&quot;</code></td>
</tr>
<tr>
<td><code>startDate</code></td>
<td>String</td>
<td>The guest&#39;s checkin date/time, in ISO-8601 format.</td>
<td><code>&quot;2015-11-11T01:00:00.000Z&quot;</code></td>
</tr>
<tr>
<td><code>endDate</code></td>
<td>String</td>
<td>The guest&#39;s checkout date/time, in ISO-8601 format.</td>
<td><code>&quot;2015-11-13T05:00:00.000Z&quot;</code></td>
</tr>
<tr>
<td><code>createDate</code></td>
<td>String</td>
<td>The date/time the feedback was created, in ISO-8601 format.</td>
<td><code>&quot;2015-11-11T02:16:13.456Z&quot;</code></td>
</tr>
<tr>
<td><code>updateDate</code></td>
<td>String</td>
<td>The most recent date/time the feedback was updated by the guest, in ISO-8601 format.</td>
<td><code>&quot;2015-11-11T03:12:13.456Z&quot;</code></td>
</tr>
<tr>
<td><code>isHappy</code></td>
<td>Boolean</td>
<td>When asked whether they were happy with particular details, the guest answered affirmatively in all cases.</td>
<td><code>true</code></td>
</tr>
</tbody>
</table>
<h6 id="example-real-time-feedback-message">Example Real-Time Feedback Message</h6>
<pre><code>{
    &quot;id&quot;: &quot;b7b215a395d3267c92c2c6e3562fa09c11f6454c&quot;,
    &quot;hotelId&quot;: &quot;test&quot;,
    &quot;category&quot;: &quot;Real-Time Feedback&quot;,
    &quot;shortMessage&quot;: &quot;A guest at your property is giving real-time feedback.&quot;,
    &quot;longMessage&quot;: &quot;Bed was not made :(&quot;,
    &quot;values&quot;: {
        &quot;itineraryId&quot;: &quot;12345&quot;,
        &quot;startDate&quot;: &quot;2015-11-11T01:22:10.126Z&quot;,
        &quot;endDate&quot;: &quot;2015-11-14T01:22:10.126Z&quot;,
        &quot;createDate&quot;: &quot;2015-11-12T01:22:10.126Z&quot;,
        &quot;updateDate&quot;: &quot;2015-11-13T01:22:10.126Z&quot;,
        &quot;isHappy&quot;: false
    },
    &quot;actionURL&quot;: &quot;https://hotelcontent.expediapartnercentral.com/contentmain/realtime_feedback.html?htid=test&quot;
}
</code></pre><h5 id="hotel-review">Hotel Review</h5>
<p>A guest has provided a review for the requested hotel that management has not yet responded to.</p>
<h6 id="-code-values-code-properties-4"><code>values</code> Properties</h6>
<table>
<thead>
<tr>
<th>Property</th>
<th>Data Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>reviewId</code></td>
<td>String</td>
<td>The Expedia review ID.</td>
<td><code>&quot;123abc&quot;</code></td>
</tr>
<tr>
<td><code>itineraryId</code></td>
<td>String</td>
<td>The Expedia itineraty ID of the guest&#39;s booking.</td>
<td><code>&quot;12345&quot;</code></td>
</tr>
<tr>
<td><code>rating</code></td>
<td>Integer</td>
<td>The rating out of five.</td>
<td><code>4</code></td>
</tr>
<tr>
<td><code>comment</code></td>
<td>String</td>
<td>The review comment.</td>
<td><code>&quot;2015-11-11T01:00:00.000Z&quot;</code></td>
</tr>
<tr>
<td><code>createDate</code></td>
<td>String</td>
<td>The date/time the review was created, in ISO-8601 format.</td>
<td><code>&quot;2015-11-11T02:16:13.456Z&quot;</code></td>
</tr>
</tbody>
</table>
<h6 id="example-hotel-review-message">Example Hotel Review Message</h6>
<pre><code>{
    &quot;id&quot;: &quot;fc58dbb7e4ce17c79d0a54fec74eea613e1bd01b&quot;,
    &quot;hotelId&quot;: &quot;test&quot;,
    &quot;category&quot;: &quot;Hotel Review&quot;,
    &quot;shortMessage&quot;: &quot;A guest just reviewed your property and rated you 4 out of 5 stars.&quot;,
    &quot;longMessage&quot;: &quot;Great view!&quot;,
    &quot;values&quot;: {
        &quot;reviewId&quot;: &quot;123&quot;,
        &quot;itineraryId&quot;: &quot;456&quot;,
        &quot;rating&quot;: 4,
        &quot;comment&quot;: &quot;Great view!&quot;,
        &quot;createDate&quot;: &quot;2015-11-12T05:03:52.138Z&quot;
    },
    &quot;actionURL&quot;: &quot;https://hotelcontent.expediapartnercentral.com/contentmain/user_reviews.html?htid=test&quot;
}
</code></pre></div></div><div class="row full-width footer">
    <div class="large-8 large-centered columns">
        <div class="links text-center">
            <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Contact Expedia</a> |
            <a class="link-item" href="/terms.html">Terms and Conditions</a>
        </div>
        <div class="show-for-large-up">
            <div class="footer-logo">&nbsp;</div>
        </div>
        <div>© 2015 Expedia, Inc. All rights reserved. Confidential and proprietary.</div>
    </div>
</div>
</body></html>