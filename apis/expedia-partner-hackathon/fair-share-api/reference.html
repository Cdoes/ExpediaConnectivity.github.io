<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference - Fair Share API</title><meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Expedia Connectivity</title>

<link rel="stylesheet" href="/css/normalize.css">
<link rel="stylesheet" href="/css/foundation.min.css">
<link rel="stylesheet" href="/css/code/styles/github-gist.css">
<link rel="stylesheet" href="/css/styles.css">

<link rel="icon" href="/favicon.ico" />
<link rel="stylesheet" href="/css/he-animate.css">

<script src="/js/jquery.js"></script>
<script src="/js/vendor/modernizr.js"></script>
<script src="/js/highlight.pack.js"></script>
<script src="/js/foundation.min.js"></script>
<script src="/js/Core.js"></script>
<script src="/js/he-main.js"></script>
<script src="/js/he-plugins.js"></script>
<script src="/js/he-smoothscroll.js"></script>
<script src="/js/he-waypoints.js"></script>
<script>
    $(document).ready(function() {
        $('.api-content pre>code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
        if (document.cookie.indexOf('NOTE_SHOWN') == -1) {
            $('#note').show()
        }
        $('#close').on('click', function() {
            document.cookie = 'NOTE_SHOWN=true';
            $('#note').hide();
            Core.onScroll();
        });
        Core.init();
    });

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-79394707-1', 'auto');
    ga('send', 'pageview');
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
    }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head><body><div id="google_translate_element" style="display: none;"></div>
<header id="site-navigation">
    <div id="note" style="display:none">
        <a id="close"><img src="/images/fi-x.svg" /></a>
        <span class="line">Welcome to the new Expedia Connectivity site. </span>
        <span class="line"><a href="http://www.expediaquickconnect.com/?noredirect=true">Go back to Expedia Quick Connect</a> or <a href="http://goo.gl/forms/FYq9R3ympLvot89v2" target="_new">Give feedback</a>. </span>
    </div>
    <nav id="nav-top" class="row full-width">
        <div class="inner">
            <ul>
                <li><a href="https://www.expediapartnercentral.com" target="_blank">Expedia PartnerCentral</a></li>
                <li><a href="/contact-us" onclick="ga('send','event','ContactUs','clicked','developer.expediapartnercentral.com');">Contact Us</a></li>
                <li id="hotelnav" style="display:none"><a href="/test-properties/hotels">Hotels</a></li>
                <li id="apikeynav" style="display:none"><a href="/test-properties/apikeys">API Keys</a></li>
                <li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout();">Logout</a></li>
            </ul>
        </div>
    </nav>
    <nav id="nav-main" class="row full-width">
        <div class="inner">
            <a id="logo" href="/">
                <img src="/images/DevLogo_40k.png" />
            </a>

            <div id="menu-toggle" class="hide-for-large-up"></div>
            <div id="menu-wrap">
                <ul>
                    <li class="mainlink"><a href="/providers">Connectivity for Providers</a></li>
                    <li class="mainlink"><a href="/properties">Connectivity for Properties</a></li>
                    <!--<li class="mainlink hidden"><a href="/solutions">Solutions</a></li>-->
                    <li class="mainlink"><a href="/systems">Systems</a></li>
                    <li class="mainlink"><a href="/developer">Developer APIs</a></li>
                    <!--<li><a href="/hackathon">Expedia Hackathon</a></li>-->
                </ul>
            </div>
        </div>
    </nav>
</header>
<div class="row full-width"><div class="off-canvas-nav-bar sticky"><nav class="top-bar tab-bar hide-for-medium-up" data-topbar role="navigation"><section class="left-small"><a class="left-off-canvas-toggle menu-icon" href=""><span></span></a></section><section class="middle tab-bar-section"><span class="title"></span></section></nav></div></div><div class="row full-width"><div class="hide-for-small-only medium-3 large-2 columns menu"><nav role="navigation" class="sidebar-nav"><header>Fair Share API</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename"><a class="sidebar-nav-item" href="/apis/expedia-partner-hackathon/fair-share-api/quick-start.html">Quick Start</a></li><li class="pagename" data-magellan-arrival="reference"><a class="sidebar-nav-item" href="#reference">Reference</a></li><li class="depth2" data-magellan-arrival="authentication"><a class="sidebar-nav-item" href="#authentication">Authentication</a></li><li class="depth2" data-magellan-arrival="fair-share-endpoint"><a class="sidebar-nav-item" href="#fair-share-endpoint">Fair share endpoint</a></li><li class="depth2" data-magellan-arrival="request"><a class="sidebar-nav-item" href="#request">Request</a></li><li class="depth2" data-magellan-arrival="response"><a class="sidebar-nav-item" href="#response">Response</a></li><li class="depth2" data-magellan-arrival="errors"><a class="sidebar-nav-item" href="#errors">Errors</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/expedia-partner-hackathon/fair-share-api/try-it.html">Try It</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/expedia-partner-hackathon/fair-share-api/video.html">Video Tutorial</a></li></ul></nav></div><div class="off-canvas-wrap" data-offcanvas><div class="inner-wrap"><aside class="left-off-canvas-menu hide-for-medium-up"></aside><div class="small-12 medium-9 medium-offset-3 large-8 large-offset-2 columns end api-content"><h1 id="reference" data-magellan-destination="reference">Reference</h1>
<h2 id="authentication" data-magellan-destination="authentication">Authentication</h2>
<p>The Fair Share API requires HTTP basic auth credentials to be supplied with every request.</p>
<p>Credentials must match a valid hotelier username/password.  If data for a specific hotel or list of hotels is being requested, the credentials must be authorized to access data for those hotels.</p>
<h2 id="fair-share-endpoint" data-magellan-destination="fair-share-endpoint">Fair share endpoint</h2>
<pre><code>GET public/v1/fairShare
</code></pre><p>The fair share endpoint will generate fair share data for a given hotel id.  Fair share is a comparison of how many hotel rooms a given hotel supplies vs how many are supplied by all the hotels listed in it&#39;s competitor set.  The ratio of supplied hotels vs total of competitor&#39;s supplied hotels is called the fair share.  Along with fair share, the endpoint will return the current number of booked rooms for the given id along with the total of all competitor&#39;s booked rooms for checkin dates from today up to 30 days.  </p>
<p>The equation for fair share is my room count /(my room count + my competitors&#39; total room count). </p>
<p>The equation for actual share is my booked rooms /(my booked rooms + my competitorsâ€™ total booked rooms)</p>
<h2 id="request" data-magellan-destination="request">Request</h2>
<div><table>
<thead>
<tr>
<th>Name</th>
<th>Parameter Type</th>
<th>Data Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Header</td>
<td>String</td>
<td><code>Basic dGVzdDp0ZXN0</code></td>
<td>Unique identifier for a property/hotel.</td>
</tr>
<tr>
<td><code>hotelId</code></td>
<td>Query</td>
<td>Integer</td>
<td><code>123</code></td>
<td>Hotel identifier</td>
</tr>
<tr>
<td><code>daynum</code></td>
<td>Query</td>
<td>String</td>
<td><code>3</code></td>
<td>(Optional) the number of days from today to the future, default value is 1</td>
</tr>
</tbody>
</table>
</div><h5 id="sample-request-with-all-parameters-populated" data-magellan-destination="sample-request-with-all-parameters-populated">Sample request with all parameters populated</h5>
<pre><code>https://services.expediapartnercentral.com/insights/public/v1/fairShare?hotelId=759&amp;dayNum=2
</code></pre><h2 id="response" data-magellan-destination="response">Response</h2>
<div><table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>errorCode</td>
<td>Integer</td>
<td>Error code, null when no error</td>
</tr>
<tr>
<td>errorMsg</td>
<td>String</td>
<td>Error message, null when no error</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Response status</td>
</tr>
<tr>
<td>compSetRoomCount</td>
<td>Integer</td>
<td>Total number of rooms available in competitor set</td>
</tr>
<tr>
<td>fairshare</td>
<td>Double</td>
<td>Fair share for the current market</td>
</tr>
<tr>
<td>roomCount</td>
<td>Integer</td>
<td>Total room count for current hotel</td>
</tr>
<tr>
<td>bookedRooms</td>
<td>Integer</td>
<td>Number of booked rooms for given date</td>
</tr>
<tr>
<td>compSetBookedRooms</td>
<td>Integer</td>
<td>Total of all competitor&#39;s booked rooms</td>
</tr>
<tr>
<td>date</td>
<td>String</td>
<td>Check in date for booked rooms</td>
</tr>
</tbody>
</table>
</div><pre><code class="lang-JSON">{    
    &quot;errorCode&quot;: null,
    &quot;errorMsg&quot;: null,
    &quot;status&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        &quot;compSetRoomCount&quot;: 514,
        &quot;fairshare&quot;: 0.085,
        &quot;roomCount&quot;: 48,
        &quot;daily&quot;: [
            {
                &quot;bookedRooms&quot;: 13,
                &quot;compSetBookedRooms&quot;: 236,
                &quot;date&quot;: &quot;2016-05-23&quot;
            },
            {
                &quot;bookedRooms&quot;: 13,
                &quot;compSetBookedRooms&quot;: 207,
                &quot;date&quot;: &quot;2016-05-24&quot;
            }
        ]
    }
}
</code></pre>
<h2 id="errors" data-magellan-destination="errors">Errors</h2>
<div><table>
<thead>
<tr>
<th>HTTP Status Code</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 3000, errorMsg: &#39;clientId is necessary.&#39;</td>
</tr>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 3010, errorMsg: &#39;HotelId is necessary.&#39;</td>
</tr>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 3011, errorMsg: &#39;The hotelId was not an integer.&#39;</td>
</tr>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 3012, errorMsg: &#39;The hotelId should be positive integer.&#39;</td>
</tr>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 2000, errorMsg: &#39;Hotel is not exist&#39;</td>
</tr>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 2002, errorMsg: &#39;This hotel has no competitors&#39;</td>
</tr>
</tbody>
</table>
</div></div><a class="exit-off-canvas hide-for-medium-up"></a></div></div></div><footer id="site-footer" class="row full-width">
    <div class="large-8 large-centered columns">
        <div class="links text-center">
            <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Knowledge Base</a> |
            <a class="link-item" href="/terms">Terms and Conditions</a> |
            <a class="link-item" href="/privacy">Privacy Policy</a> |
            <a class="link-item" href="/license">License Agreement</a>
        </div>
        <div class="show-for-large-up">
            <div class="footer-logo">&nbsp;</div>
        </div>
        <div id="footer-copyright">Â© 2016 Expedia, Inc. All rights reserved. Confidential and proprietary.</div>
    </div>
</footer>
<input type="hidden" id="eventTrackingPageName" value="Reference - Fair Share API"/></body></html>