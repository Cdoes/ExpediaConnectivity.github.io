<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Competitor Set Reference - Insights (Experimental)</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/foundation.min.css"><link rel="stylesheet" href="/css/code/styles/github-gist.css"><link rel="stylesheet" href="/css/styles.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/he-animate.css"><script src="/js/jquery.js"></script><script src="/js/vendor/modernizr.js"></script><script src="/js/highlight.pack.js"></script><script src="/js/foundation.min.js"></script><script src="/js/Core.js"></script><script src="/js/he-main.js"></script><script src="/js/he-plugins.js"></script><script src="/js/he-smoothscroll.js"></script><script src="/js/he-waypoints.js"></script><script src="/js/environment.js"></script><script>$(document).ready(function() {
    $('.api-content pre>code').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    Core.init();
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-79394707-1', 'auto');
ga('send', 'pageview');
function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script></head><body><div id="google_translate_element" style="display: none"></div><header id="site-navigation"><nav class="row full-width" id="nav-top"><div class="inner"><ul><li id="adminnav" style="display:none"><a href="/test-properties/schedules-admin">Admin Schedules View</a></li><li id="hotelnav" style="display:none"><a href="/test-properties/schedules">Schedules</a></li><li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout();">Logout</a></li></ul></div></nav><nav class="row full-width" id="nav-main"><div class="inner"><a id="logo" href="/"><img src="/images/DevLogo_40k.png"/></a><div class="hide-for-large" id="menu-toggle"></div><div id="menu-wrap"><div class="hide-for-large"></div><ul><li class="mainlink"><a href="/providers">Connectivity for Providers</a></li><li class="mainlink"><a href="/properties">Connectivity for Properties</a></li><li class="mainlink"><a href="/systems">Systems</a></li><li class="mainlink"><a href="/developer">Developer APIs</a></li><li class="mainlink"><a href="/blog">Blog</a></li><li class="mainlink"><a href="/contact-us">Contact Us</a></li></ul></div></div></nav></header><div class="row full-width"><div class="off-canvas-nav-bar sticky" id="mobileMenuBar"><nav class="title-bar hide-for-large" data-topbar="" role="navigation"><section class="title-bar-left"><button class="menu-icon" type="button" style="outline: none" data-toggle="mobileMenu"><span></span></button></section><span class="title-bar-title"></span></nav></div></div><div class="row full-width"><div class="show-for-large large-3 columns menu"><nav role="navigation" class="sidebar-nav"><header>Insights (Experimental)</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/insights/fair-share-quickstart.html">Fair Share Quick Start</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/insights/fair-share-reference.html">Fair Share Reference</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/insights/competitor-set-quickstart.html">Competitor Set Quick Start</a></li><li class="pagename" data-magellan-arrival="competitor-set-reference"><a class="sidebar-nav-item" href="#competitor-set-reference">Competitor Set Reference</a></li><li class="depth2" data-magellan-arrival="authentication"><a class="sidebar-nav-item" href="#authentication">Authentication</a></li><li class="depth2" data-magellan-arrival="competitor-set-events-endpoint"><a class="sidebar-nav-item" href="#competitor-set-events-endpoint">Competitor Set Events Endpoint</a></li><li class="depth2" data-magellan-arrival="request-parameters"><a class="sidebar-nav-item" href="#request-parameters">Request Parameters</a></li><li class="depth2" data-magellan-arrival="response"><a class="sidebar-nav-item" href="#response">Response</a></li><li class="depth2" data-magellan-arrival="errors"><a class="sidebar-nav-item" href="#errors">Errors</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/insights/entire-reference.html">Insights Full Reference</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/insights/try-it.html">Try It</a></li></ul></nav></div><div class="off-canvas-wrapper"><div class="off-canvas-wrapper-inner" data-off-canvas-wrapper=""><div class="off-canvas position-left hide-for-large" id="mobileMenu" data-off-canvas="" data-auto-focus="false"></div><div class="off-canvas-content" data-off-canvas-content=""><div class="small-12 medium-10 medium-offset-1 large-8 large-offset-3 xlarge-8 xxlarge-6 columns end api-content"><h1 id="competitor-set-reference" data-magellan-destination="competitor-set-reference">Competitor Set Reference</h1>
<h2 id="authentication" data-magellan-destination="authentication">Authentication</h2>
<p>The Competitor Set Events API requires HTTP basic auth credentials to be supplied with every request.</p>
<p>Credentials must match a valid hotelier username/password.  If data for a specific hotel or list of hotels is being requested, the credentials must be authorized to access data for those hotels.</p>
<h2 id="competitor-set-events-endpoint" data-magellan-destination="competitor-set-events-endpoint">Competitor Set Events Endpoint</h2>
<pre><code>GET /insights/public/v1/addCompSet
</code></pre><p>The Competitor Set Events endpoint provides a list of competitors to a given hotel along with when that competitor registered as such.  The endpoint requires a hotel id and start and end dates to find the event when the competitor registered.</p>
<h2 id="request-parameters" data-magellan-destination="request-parameters">Request Parameters</h2>
<div><table>
<thead>
<tr>
<th>Name</th>
<th>Parameter Type</th>
<th>Data Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Authorization</code></td>
<td>Header</td>
<td>String</td>
<td><code>Basic dGVzdDp0ZXN0</code></td>
<td>Unique identifier for a property/hotel.</td>
</tr>
<tr>
<td><code>hotelId</code></td>
<td>Query</td>
<td>Integer</td>
<td><code>123</code></td>
<td>Hotel identifier</td>
</tr>
<tr>
<td><code>startDate</code></td>
<td>Query</td>
<td>String</td>
<td><code>2015-01-01</code></td>
<td>Start date to search for event when new competitors were added</td>
</tr>
<tr>
<td><code>endDate</code></td>
<td>Query</td>
<td>String</td>
<td><code>2016-01-01</code></td>
<td>End date to search for event when new competitors were added</td>
</tr>
</tbody>
</table>
</div><h5 id="sample-request-with-all-parameters" data-magellan-destination="sample-request-with-all-parameters">Sample Request with all Parameters</h5>
<pre><code>https://services.expediapartnercentral.com/insights/public/v1/addCompSet?hotelId=1234567&amp;startDate=2014-01-01&amp;endDate=2016-05-10
</code></pre><h2 id="response" data-magellan-destination="response">Response</h2>
<div><table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>errorCode</td>
<td>Integer</td>
<td>Error code, null when no error</td>
</tr>
<tr>
<td>errorMsg</td>
<td>String</td>
<td>Error message, null when no error</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Response status</td>
</tr>
<tr>
<td>HotelId</td>
<td>Integer</td>
<td>Hotel Identifier</td>
</tr>
<tr>
<td>HotelName</td>
<td>String</td>
<td>Name of Hotel</td>
</tr>
<tr>
<td>endDate</td>
<td>String</td>
<td>End date of competitor event search</td>
</tr>
<tr>
<td>startDate</td>
<td>String</td>
<td>Start date of competitor event search</td>
</tr>
<tr>
<td>eventDate</td>
<td>String</td>
<td>Date when competitor added hotel as competitor</td>
</tr>
<tr>
<td>hotelId</td>
<td>Integer</td>
<td>Competitor&#39;s hotel identifier</td>
</tr>
<tr>
<td>hotelName</td>
<td>String</td>
<td>Competitor&#39;s hotel name</td>
</tr>
</tbody>
</table>
</div><h5 id="sample-response" data-magellan-destination="sample-response">Sample Response</h5>
<pre><code class="lang-JSON">{
    &quot;errorCode&quot;: null,
    &quot;errorMsg&quot;: null,
    &quot;status&quot;: &quot;Success&quot;
    &quot;data&quot;: {
        &quot;HotelId&quot;: 3513358,
        &quot;HotelName&quot;: &quot;Best Western Plus Kamloops Hotel&quot;,
        &quot;endDate&quot;: &quot;2016-06-01T23:59:59.999Z&quot;,
        &quot;limit&quot;: 50,
        &quot;startDate&quot;: &quot;2016-05-01T00:00:00.000Z&quot;
        &quot;compSet&quot;: [
            {
                &quot;eventDate&quot;: &quot;2016-05-18T08:46:45.956Z&quot;,
                &quot;hotelId&quot;: 759,
                &quot;hotelName&quot;: &quot;Accent Inns Kamloops&quot;
            }
        ]
    }
}
</code></pre>
<h2 id="errors" data-magellan-destination="errors">Errors</h2>
<div><table>
<thead>
<tr>
<th>HTTP Status Code</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 3010, errorMsg: &#39;HotelId is necessary.&#39;</td>
</tr>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 3011, errorMsg: &#39;The hotelId was not an integer.&#39;</td>
</tr>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 3012, errorMsg: &#39;The hotelId should be positive integer.&#39;</td>
</tr>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 2000, errorMsg: &#39;Hotel is not exist&#39;</td>
</tr>
<tr>
<td>400</td>
<td>status: &#39;Error&#39;, errorCode: 2002, errorMsg: &#39;This hotel has no competitors&#39;</td>
</tr>
</tbody>
</table>
</div></div></div></div></div></div><footer class="row full-width" id="site-footer"><div class="large-8 large-centered columns"><div class="links text-center"><a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Expedia PartnerCentral</a> | <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Knowledge Base</a> | <a class="link-item" href="/terms">Terms and Conditions</a> | <a class="link-item" href="/privacy">Privacy Policy</a> | <a class="link-item" href="/license">License Agreement</a></div><div class="show-for-large"><div class="footer-logo">&nbsp;</div></div><div id="footer-copyright">&copy; 2017 Expedia, Inc. All rights reserved. Confidential and proprietary.</div></div></footer></body></html>