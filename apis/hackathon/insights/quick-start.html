<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Quick Start - Insights (Experimental)</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/foundation.min.css"><link rel="stylesheet" href="/css/code/styles/github-gist.css"><link rel="stylesheet" href="/css/styles.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/he-animate.css"><script src="/js/jquery.js"></script><script src="/js/vendor/modernizr.js"></script><script src="/js/highlight.pack.js"></script><script src="/js/foundation.min.js"></script><script src="/js/Core.js"></script><script src="/js/he-main.js"></script><script src="/js/he-plugins.js"></script><script src="/js/he-smoothscroll.js"></script><script src="/js/he-waypoints.js"></script><script src="/js/environment.js"></script><script>$(document).ready(function() {
    $('.api-content pre>code').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    Core.init();
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-79394707-1', 'auto');
ga('send', 'pageview');
function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script></head><body><div id="google_translate_element" style="display: none"></div><header id="site-navigation"><nav class="row full-width" id="nav-top"><div class="inner"><ul><li id="adminnav" style="display:none"><a href="/test-properties/schedules-admin">Admin Schedules View</a></li><li id="hotelnav" style="display:none"><a href="/test-properties/schedules">Schedules</a></li><li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout();">Logout</a></li></ul></div></nav><nav class="row full-width" id="nav-main"><div class="inner"><a id="logo" href="/"><img src="/images/DevLogo_40k.png"/></a><div class="hide-for-large" id="menu-toggle"></div><div id="menu-wrap"><div class="hide-for-large"></div><ul><li class="mainlink"><a href="/providers">Connectivity for Providers</a></li><li class="mainlink"><a href="/properties">Connectivity for Properties</a></li><li class="mainlink"><a href="/systems">Systems</a></li><li class="mainlink"><a href="/developer">Developer APIs</a></li><li class="mainlink"><a href="/blog">Blog</a></li><li class="mainlink"><a href="/contact-us">Contact Us</a></li></ul></div></div></nav></header><div class="row full-width"><div class="off-canvas-nav-bar sticky" id="mobileMenuBar"><nav class="title-bar hide-for-large" data-topbar="" role="navigation"><section class="title-bar-left"><button class="menu-icon" type="button" style="outline: none" data-toggle="mobileMenu"><span></span></button></section><span class="title-bar-title"></span></nav></div></div><div class="row full-width"><div class="show-for-large large-3 columns menu"><nav role="navigation" class="sidebar-nav"><header>Insights (Experimental)</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename" data-magellan-arrival="quick-start"><a class="sidebar-nav-item" href="#quick-start">Quick Start</a></li><li class="depth2" data-magellan-arrival="authentication"><a class="sidebar-nav-item" href="#authentication">Authentication</a></li><li class="depth2" data-magellan-arrival="price-distribution"><a class="sidebar-nav-item" href="#price-distribution">Price Distribution</a></li><li class="depth2" data-magellan-arrival="reading-missed-opportunities-from-packages"><a class="sidebar-nav-item" href="#reading-missed-opportunities-from-packages">Reading Missed Opportunities from Packages</a></li><li class="depth2" data-magellan-arrival="compression-outlook"><a class="sidebar-nav-item" href="#compression-outlook">Compression Outlook</a></li><li class="depth2" data-magellan-arrival="fair-share"><a class="sidebar-nav-item" href="#fair-share">Fair Share</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/insights/reference.html">Reference</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/insights/try-it.html">Try It</a></li></ul></nav></div><div class="off-canvas-wrapper"><div class="off-canvas-wrapper-inner" data-off-canvas-wrapper=""><div class="off-canvas position-left hide-for-large" id="mobileMenu" data-off-canvas="" data-auto-focus="false"></div><div class="off-canvas-content" data-off-canvas-content=""><div class="small-12 medium-10 medium-offset-1 large-8 large-offset-3 xlarge-8 xxlarge-6 columns end api-content"><h1 id="quick-start" data-magellan-destination="quick-start">Quick Start</h1>
<p>The Insights APIs will give hoteliers some valuable data about how their properties are performing in the Expedia marketplace</p>
<h2 id="authentication" data-magellan-destination="authentication">Authentication</h2>
<p>The API uses a Basic Authorization scheme. The same credentials used to manage properties via our public APIs today are compatible with the Insights API/messages. Authorization will also be performed: the hotel must be assigned to the API account being used.</p>
<h2 id="price-distribution" data-magellan-destination="price-distribution">Price Distribution</h2>
<p>Gain competitive insights by seeing the distribution of ADR of booked rooms in a given market. The market is that of the specified hotel.</p>
<p><strong>Mocked Data Warning</strong>: This API will only returned mocked data, for the purpose of the Madrid hackathon.</p>
<p>To retrieve price distribution information simply pass a hotel id, check in date, length of stay and optional range size to the </insights/public/v1/priceDistribution> endpoint via a query parameter. Range size will default to 20 when not specified. For example:</p>
<pre><code>https://services.expediapartnercentral.com/insights/public/v1/priceDistribution?hotelId=17104728&amp;checkInDate=2017-05-01&amp;lengthOfStay=2
</code></pre><p>The response will contain 2 lists. The first list (priceDistributionArr) contains the number of rooms booked between each price interval. The second list (lowestPriceArr) shows the lowest ADR for each competitor&#39;s booked rooms</p>
<pre><code class="lang-json">{
  &quot;status&quot;: &quot;Success&quot;,
  &quot;errorCode&quot;: null,
  &quot;errorMsg&quot;: null,
  &quot;data&quot;: {
    &quot;priceDistributionArr&quot;: [
      {
        &quot;rooms&quot;: 10,
        &quot;yourHotelflag&quot;: false,
        &quot;priceRange&quot;: &quot;40-60&quot;,
        &quot;percentage&quot;: 10
      },
      {
        &quot;rooms&quot;: 10,
        &quot;yourHotelflag&quot;: false,
        &quot;priceRange&quot;: &quot;60-80&quot;,
        &quot;percentage&quot;: 10
      },
      {
        &quot;rooms&quot;: 21,
        &quot;yourHotelflag&quot;: true,
        &quot;priceRange&quot;: &quot;80-100&quot;,
        &quot;percentage&quot;: 21
      },
      {
        &quot;rooms&quot;: 28,
        &quot;yourHotelflag&quot;: false,
        &quot;priceRange&quot;: &quot;100-120&quot;,
        &quot;percentage&quot;: 28
      },
      {
        &quot;rooms&quot;: 14,
        &quot;yourHotelflag&quot;: false,
        &quot;priceRange&quot;: &quot;120-140&quot;,
        &quot;percentage&quot;: 14
      },
      {
        &quot;rooms&quot;: 9,
        &quot;yourHotelflag&quot;: false,
        &quot;priceRange&quot;: &quot;140-160&quot;,
        &quot;percentage&quot;: 9
      },
      {
        &quot;rooms&quot;: 6,
        &quot;yourHotelflag&quot;: false,
        &quot;priceRange&quot;: &quot;160-180&quot;,
        &quot;percentage&quot;: 6
      },
      {
        &quot;rooms&quot;: 2,
        &quot;yourHotelflag&quot;: false,
        &quot;priceRange&quot;: &quot;180-200&quot;,
        &quot;percentage&quot;: 2
      }
    ],
    &quot;lowestPriceArr&quot;: [
      {
        &quot;hotelId&quot;: 223,
        &quot;lowestPrice&quot;: 69.89,
        &quot;hotelName&quot;: &quot;TestHotel_223&quot;
      },
      {
        &quot;hotelId&quot;: 17000,
        &quot;lowestPrice&quot;: 89.49,
        &quot;hotelName&quot;: &quot;TestHotel_17000&quot;
      },
      {
        &quot;hotelId&quot;: 2300,
        &quot;lowestPrice&quot;: 169.69,
        &quot;hotelName&quot;: &quot;TestHotel_2300&quot;
      },
      {
        &quot;hotelId&quot;: 499,
        &quot;lowestPrice&quot;: 109.19,
        &quot;hotelName&quot;: &quot;TestHotel_499&quot;
      }
    ]
  }
}
</code></pre>
<h2 id="reading-missed-opportunities-from-packages" data-magellan-destination="reading-missed-opportunities-from-packages">Reading Missed Opportunities from Packages</h2>
<p>When someone shopped your hotel as a Package and booked someone else&#39;s hotel as a Package within 24 hour POSa (00:00 to 24:00 wall clock), missedOpportunitiesInPackages API returns all hotels by the total booking number within this time frame.</p>
<p><strong>Mocked Data Warning</strong>: This API will only returned mocked data, for the purpose of the Madrid hackathon.</p>
<p>To retrieve missed opportunities from Packages simply pass a hotel id and optional start date / end date to the </insights/public/v1/missedOpportunitiesInPackages> endpoint via a query parameter. When dates are not specified, they will default to today.</p>
<p>For exemple:</p>
<pre><code>https://services.expediapartnercentral.com/insights/public/v1/missedOpportunitiesInPackages?hotelId=17104728&amp;startDate=2017-05-01&amp;endDate=2017-05-02
</code></pre><p>The response will contain a list of missed opportunities for packages.</p>
<pre><code class="lang-json">{
  &quot;status&quot;: &quot;Success&quot;,
  &quot;errorCode&quot;: null,
  &quot;errorMsg&quot;: null,
  &quot;data&quot;: {
    &quot;viewedHotelId&quot;: 17104728,
    &quot;viewedHotelName&quot;: &quot;TestHotel_17104728&quot;,
    &quot;totalViewerCounter&quot;: 2,
    &quot;missedOpportunities&quot;: [
      {
        &quot;hotelId&quot;: 777,
        &quot;hotelName&quot;: &quot;TestHotel_777&quot;,
        &quot;roomNights&quot;: 2,
        &quot;bookings&quot;: 1
      },
      {
        &quot;hotelId&quot;: 757,
        &quot;hotelName&quot;: &quot;TestHotel_757&quot;,
        &quot;roomNights&quot;: 6,
        &quot;bookings&quot;: 2
      }
    ],
    &quot;timeStamp&quot;: &quot;2017-05-01&quot;
  }
}
</code></pre>
<h2 id="compression-outlook" data-magellan-destination="compression-outlook">Compression Outlook</h2>
<p>Compression forecasts the outlook of regional room supply (from any hotelId) by calculating the percentage of unavailable rooms to available rooms.</p>
<p><strong>Warning, Real Data</strong>: Unlike the other insights messages, this one is not using mocked data. It will have some information for test hotels, but it&#39;s not guaranteed to have compression info.</p>
<p>To retrieve compression data simply pass a hotel id, start date and end date to the </insights/public/v1/compressionOutlook> endpoint via a query parameter. For example:</p>
<pre><code>https://services.expediapartnercentral.com/insights/public/v1/compressionOutlook?hotelId=12933870&amp;startDate=2017-05-01&amp;endDate=2017-05-28
</code></pre><p>The response will contain a list of compression data for each date in the supplied date range.</p>
<pre><code class="lang-json">{
  &quot;status&quot;: &quot;Success&quot;,
  &quot;errorCode&quot;: null,
  &quot;errorMsg&quot;: null,
  &quot;data&quot;: {
    &quot;regionName&quot;: &quot;Region Test&quot;,
    &quot;compression&quot;: [
      {
        &quot;date&quot;: &quot;2017-05-01T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-02T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 86
      },
      {
        &quot;date&quot;: &quot;2017-05-03T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 35
      },
      {
        &quot;date&quot;: &quot;2017-05-04T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 37
      },
      {
        &quot;date&quot;: &quot;2017-05-05T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-06T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 36
      },
      {
        &quot;date&quot;: &quot;2017-05-07T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 35
      },
      {
        &quot;date&quot;: &quot;2017-05-08T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-09T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 86
      },
      {
        &quot;date&quot;: &quot;2017-05-10T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 86
      },
      {
        &quot;date&quot;: &quot;2017-05-11T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-12T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 36
      },
      {
        &quot;date&quot;: &quot;2017-05-13T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 40
      },
      {
        &quot;date&quot;: &quot;2017-05-14T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 37
      },
      {
        &quot;date&quot;: &quot;2017-05-15T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-16T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 86
      },
      {
        &quot;date&quot;: &quot;2017-05-17T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-18T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-19T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 38
      },
      {
        &quot;date&quot;: &quot;2017-05-20T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-21T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 39
      },
      {
        &quot;date&quot;: &quot;2017-05-22T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-23T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 85
      },
      {
        &quot;date&quot;: &quot;2017-05-24T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 86
      },
      {
        &quot;date&quot;: &quot;2017-05-25T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 34
      },
      {
        &quot;date&quot;: &quot;2017-05-26T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 38
      },
      {
        &quot;date&quot;: &quot;2017-05-27T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 86
      },
      {
        &quot;date&quot;: &quot;2017-05-28T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: 37
      },
      {
        &quot;date&quot;: &quot;2017-05-29T00:00:00.000Z&quot;,
        &quot;compressionPercent&quot;: null
      }
    ]
  }
}
</code></pre>
<h2 id="fair-share" data-magellan-destination="fair-share">Fair Share</h2>
<p>The Fair Share message projects a competitive metric that compares a given hotel&#39;s expected market share vs. their competitor&#39;s market share based on a given stayDate. The equation is: myRoomCount / (myRoomCount + compSetRoomCount) to compute FairShare for a given hotel for a given staydate. </p>
<p><strong>Mocked Data Warning</strong>: This API will only returned mocked data, for the purpose of the Madrid hackathon.</p>
<pre><code>https://services.expediapartnercentral.com/insights/public/v1/fairShare?hotelId=17113666&amp;dayNum=3
</code></pre><p>This will provide information like this:</p>
<pre><code class="lang-json">{
  &quot;status&quot;: &quot;Success&quot;,
  &quot;errorCode&quot;: null,
  &quot;errorMsg&quot;: null,
  &quot;data&quot;: {
    &quot;roomCount&quot;: 40,
    &quot;compSetRoomCount&quot;: 6859,
    &quot;fairshare&quot;: 0.006,
    &quot;daily&quot;: [
      {
        &quot;date&quot;: &quot;2017-04-19&quot;,
        &quot;bookedRooms&quot;: 13,
        &quot;compSetBookedRooms&quot;: 199
      },
      {
        &quot;date&quot;: &quot;2017-04-20&quot;,
        &quot;bookedRooms&quot;: 6,
        &quot;compSetBookedRooms&quot;: 242
      },
      {
        &quot;date&quot;: &quot;2017-04-21&quot;,
        &quot;bookedRooms&quot;: 11,
        &quot;compSetBookedRooms&quot;: 90
      }
    ]
  }
}
</code></pre>
</div></div></div></div></div><footer class="row full-width" id="site-footer"><div class="large-8 large-centered columns"><div class="links text-center"><a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Expedia PartnerCentral</a> | <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Knowledge Base</a> | <a class="link-item" href="/terms">Terms and Conditions</a> | <a class="link-item" href="/privacy">Privacy Policy</a> | <a class="link-item" href="/license">License Agreement</a></div><div class="show-for-large"><div class="footer-logo">&nbsp;</div></div><div id="footer-copyright">&copy; 2017 Expedia, Inc. All rights reserved. Confidential and proprietary.</div></div></footer></body></html>