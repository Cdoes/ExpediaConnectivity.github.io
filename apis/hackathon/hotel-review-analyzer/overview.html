<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Overview - Hotel Review Analyzer (Experimental)</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/foundation.min.css"><link rel="stylesheet" href="/css/code/styles/github-gist.css"><link rel="stylesheet" href="/css/styles.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/he-animate.css"><script src="/js/jquery.js"></script><script src="/js/vendor/modernizr.js"></script><script src="/js/highlight.pack.js"></script><script src="/js/foundation.min.js"></script><script src="/js/Core.js"></script><script src="/js/he-main.js"></script><script src="/js/he-plugins.js"></script><script src="/js/he-smoothscroll.js"></script><script src="/js/he-waypoints.js"></script><script src="/js/environment.js"></script><script>$(document).ready(function() {
    $('.api-content pre>code').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    Core.init();
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-79394707-1', 'auto');
ga('send', 'pageview');
function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script></head><body><div id="google_translate_element" style="display: none"></div><header id="site-navigation"><nav class="row full-width" id="nav-top"><div class="inner"><ul><li id="adminnav" style="display:none"><a href="/test-properties/schedules-admin">Admin Schedules View</a></li><li id="hotelnav" style="display:none"><a href="/test-properties/schedules">Schedules</a></li><li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout();">Logout</a></li></ul></div></nav><nav class="row full-width" id="nav-main"><div class="inner"><a id="logo" href="/"><img src="/images/DevLogo_40k.png"/></a><div class="hide-for-large" id="menu-toggle"></div><div id="menu-wrap"><div class="hide-for-large"></div><ul><li class="mainlink"><a href="/providers">Connectivity for Providers</a></li><li class="mainlink"><a href="/properties">Connectivity for Properties</a></li><li class="mainlink"><a href="/systems">Systems</a></li><li class="mainlink"><a href="/developer">Developer APIs</a></li><li class="mainlink"><a href="/blog">Blog</a></li><li class="mainlink"><a href="/contact-us">Contact Us</a></li></ul></div></div></nav></header><div class="row full-width"><div class="off-canvas-nav-bar sticky" id="mobileMenuBar"><nav class="title-bar hide-for-large" data-topbar="" role="navigation"><section class="title-bar-left"><button class="menu-icon" type="button" style="outline: none" data-toggle="mobileMenu"><span></span></button></section><span class="title-bar-title"></span></nav></div></div><div class="row full-width"><div class="show-for-large large-3 columns menu"><nav role="navigation" class="sidebar-nav"><header>Hotel Review Analyzer (Experimental)</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename" data-magellan-arrival="overview"><a class="sidebar-nav-item" href="#overview">Overview</a></li><li class="depth2" data-magellan-arrival="named-entity-recognition"><a class="sidebar-nav-item" href="#named-entity-recognition">Named Entity Recognition</a></li><li class="depth3" data-magellan-arrival="sentiment-classification"><a class="sidebar-nav-item" href="#sentiment-classification">Sentiment Classification</a></li><li class="depth3" data-magellan-arrival="getting-help"><a class="sidebar-nav-item" href="#getting-help">Getting Help</a></li><li class="depth2" data-magellan-arrival="rest-api"><a class="sidebar-nav-item" href="#rest-api">Rest API</a></li><li class="depth3" data-magellan-arrival="usage-example"><a class="sidebar-nav-item" href="#usage-example">Usage example</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/hotel-review-analyzer/reference.html">API Definition</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/hotel-review-analyzer/swagger.html">Swagger</a></li></ul></nav></div><div class="off-canvas-wrapper"><div class="off-canvas-wrapper-inner" data-off-canvas-wrapper=""><div class="off-canvas position-left hide-for-large" id="mobileMenu" data-off-canvas="" data-auto-focus="false"></div><div class="off-canvas-content" data-off-canvas-content=""><div class="small-12 medium-10 medium-offset-1 large-8 large-offset-3 xlarge-8 xxlarge-6 columns end api-content"><h1 id="overview" data-magellan-destination="overview">Overview</h1>
<p>This application analyze text in order to extract key group of words and assign them a sentiment score. It was developed using Expedia’s user hotel reviews and therefore yields better results when used on text similar to an hotel review.</p>
<p>The application is built as a 3 step pipeline process. First step is to identify the group of interesting words. This is the <strong>Named Entity Recognition</strong> (a.k.a <em>NER</em>) extraction process. Then, the sentence are broken into <strong>opinion unit</strong>. Each unit is then attributed a <strong>sentiment score</strong>. Finally, each group of words is attributed the sentiment score of the opinion unit they are part of.</p>
<p><img src="/files/htlrvw_fig1.png" alt="Pipeline" title="Figure 1"></p>
<h2 id="named-entity-recognition" data-magellan-destination="named-entity-recognition">Named Entity Recognition</h2>
<p>The NER model was learned using a sample of 700 Expedia User Hotel Reviews (random sample from January 2015 US Expedia.com). The reviews were manually annotated to identify 4 types of categories:</p>
<ul>
<li><p><strong>Room</strong> : &quot;Parts&quot; of a room, whether or not they are the target of reviewer sentiment. &quot;Things&quot; part (or not) of the actual room the reviewer stayed in. (e.g., &quot;I wish the <strong>room</strong> had a <strong>whirlpool bath</strong>.&quot;). Things a reviewer finds in the room but that are not really &quot;part&quot; of the room are not extracted, for example, &quot;I did find a long blonde hair in the <strong>bathtub</strong>,&quot; (&quot;long blonde hair&quot; will not be extracted).</p>
</li>
<li><p><strong>Property</strong> : &quot;Parts&quot; of a hotel, whether or not they are the target of sentiment. Property also covers things like hotel services, policies, design/decor/ambiance, cleanliness, and price/fees/charges. Extraction occurs whether or not it is part of the actual hotel the reviewer stayed at, and whether or not it actually existed (e.g., &quot;I wish the hotel had a <strong>pool</strong>,&quot; &quot;The hotel I stayed at last year had a <strong>private beach</strong>, but this one didn’t.&quot;).</p>
</li>
<li><p><strong>Location</strong> : Things a reviewer found in the vecinity of the hotel they stayed at. If a reviewer mentions the lack of some amenity in the neighborhood of the hotel, we extract it as well. Example: &quot;Located right by the <strong>mall</strong> and major <strong>shopping area</strong> and <strong>eating places</strong>&quot;.</p>
</li>
<li><p><strong>Miscellaneous</strong> : This category covers entities that abstractly refer to the hotel itself, the room itself, the location itself, the experience/stay/vacation/trip, amenities, etc. It helps evaluating the overall sentiment on abstract concepts. Example: Great <strong>hotel</strong> and even better food!</p>
</li>
</ul>
<h4 id="example" data-magellan-destination="example">Example</h4>
<p>Here is an example of concept extraction on a review. The words extracted by the NER process are colored. Each category of entity has it’s own color.</p>
<p><img src="/files/htlrvw_fig2.png" alt="NER" title="Figure 2"></p>
<h3 id="sentiment-classification" data-magellan-destination="sentiment-classification">Sentiment Classification</h3>
<p>Once mentions have been identified in the review, the sentence is broken down into opinion unit (part of sentence which should contain a single sentiment). Each opinion unit is then sent to a Sentiment Classifier (currently we use Expedia’s Affinity Prime Sentiment Classifier — built from user review as well). The sentiment score is a float [0, 1] where a high value indicate a positive sentiment and a near zero value a negative sentiment. All mentions part of a given opinion unit will be assigned the opinion unit’s sentiment score.</p>
<h4 id="example-2" data-magellan-destination="example-2">Example</h4>
<p><img src="/files/htlrvw_fig3.png" alt="Sentiment" title="Figure 3"></p>
<h3 id="getting-help" data-magellan-destination="getting-help">Getting Help</h3>
<p>Hotel Review Analyzer is developped by the Rubicon team (hipchat: &#39;EWE CS: Rubicon&#39; | DL: Rubicon) located in the Montreal office. It is an open source initiative and anyone is welcome to contribute to its development. Please feel free to reach out to us for any questions or feedback you may have.</p>
<p>The application is the result of work by Brooke Cowan and Guy Masse</p>
<h2 id="rest-api" data-magellan-destination="rest-api">Rest API</h2>
<p>Simply POST the text to analyze to the endpoint: &quot;/service/v1/analyze&quot;</p>
<h3 id="usage-example" data-magellan-destination="usage-example">Usage example</h3>
<h4 id="curl-request" data-magellan-destination="curl-request">Curl Request</h4>
<pre><code>curl -u [USERNAME]:[PASSWORD] -X POST -H &#39;Accept: application/json&#39; -d &#39;[TEXT]&#39; &#39;https://services.expediapartnercentral.com/hotel-review/service/v1/analyze&#39;
</code></pre><p>Where:</p>
<ul>
<li>USERNAME: Your Partner Hackathon username</li>
<li>PASSWORD: Your Partner Hackathon password</li>
<li>TEXT: the text to send for analysis</li>
</ul>
<h4 id="http-request" data-magellan-destination="http-request">Http Request</h4>
<pre><code>    POST /service/v1/analyze HTTP/1.1
    Accept: application/json
    Host: localhost:8080
    Content-Length: 17

    I love this hotel
</code></pre></div></div></div></div></div><footer class="row full-width" id="site-footer"><div class="large-8 large-centered columns"><div class="links text-center"><a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Expedia PartnerCentral</a> | <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Knowledge Base</a> | <a class="link-item" href="/terms">Terms and Conditions</a> | <a class="link-item" href="/privacy">Privacy Policy</a> | <a class="link-item" href="/license">License Agreement</a></div><div class="show-for-large"><div class="footer-logo">&nbsp;</div></div><div id="footer-copyright">&copy; 2017 Expedia, Inc. All rights reserved. Confidential and proprietary.</div></div></footer></body></html>