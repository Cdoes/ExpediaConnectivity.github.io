<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Overview - Media Tagging Service</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/foundation.min.css"><link rel="stylesheet" href="/css/code/styles/github-gist.css"><link rel="stylesheet" href="/css/styles.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/he-animate.css"><script src="/js/jquery.js"></script><script src="/js/vendor/modernizr.js"></script><script src="/js/highlight.pack.js"></script><script src="/js/foundation.min.js"></script><script src="/js/Core.js"></script><script src="/js/he-main.js"></script><script src="/js/he-plugins.js"></script><script src="/js/he-smoothscroll.js"></script><script src="/js/he-waypoints.js"></script><script src="/js/environment.js"></script><script>$(document).ready(function() {
    $('.api-content pre>code').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    Core.init();
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-79394707-1', 'auto');
ga('send', 'pageview');
function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script></head><body><div id="google_translate_element" style="display: none"></div><header id="site-navigation"><nav class="row full-width" id="nav-top"><div class="inner"><ul><li id="adminnav" style="display:none"><a href="/test-properties/schedules-admin">Admin Schedules View</a></li><li id="hotelnav" style="display:none"><a href="/test-properties/schedules">Schedules</a></li><li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout();">Logout</a></li></ul></div></nav><nav class="row full-width" id="nav-main"><div class="inner"><a id="logo" href="/"><img src="/images/DevLogo_40k.png"/></a><div class="hide-for-large" id="menu-toggle"></div><div id="menu-wrap"><div class="hide-for-large"></div><ul><li class="mainlink"><a href="/providers">Connectivity for Providers</a></li><li class="mainlink"><a href="/properties">Connectivity for Properties</a></li><li class="mainlink"><a href="/systems">Systems</a></li><li class="mainlink"><a href="/developer">Developer APIs</a></li><li class="mainlink"><a href="/blog">Blog</a></li><li class="mainlink"><a href="/contact-us">Contact Us</a></li></ul></div></div></nav></header><div class="row full-width"><div class="off-canvas-nav-bar sticky" id="mobileMenuBar"><nav class="title-bar hide-for-large" data-topbar="" role="navigation"><section class="title-bar-left"><button class="menu-icon" type="button" style="outline: none" data-toggle="mobileMenu"><span></span></button></section><span class="title-bar-title"></span></nav></div></div><div class="row full-width"><div class="show-for-large large-3 columns menu"><nav role="navigation" class="sidebar-nav"><header>Media Tagging Service</header><ul class="sidebar-nav-items columns" data-magellan-expedition><li class="pagename" data-magellan-arrival="overview"><a class="sidebar-nav-item" href="#overview">Overview</a></li><li class="depth1" data-magellan-arrival="media-tagging-service-usage-guide"><a class="sidebar-nav-item" href="#media-tagging-service-usage-guide">Media Tagging Service Usage Guide</a></li><li class="depth2" data-magellan-arrival="how-to-use-the-tagging-api-"><a class="sidebar-nav-item" href="#how-to-use-the-tagging-api-">How to use the Tagging API?</a></li><li class="depth3" data-magellan-arrival="example-providing-the-image-url"><a class="sidebar-nav-item" href="#example-providing-the-image-url">Example providing the image URL</a></li><li class="depth3" data-magellan-arrival="concrete-examples"><a class="sidebar-nav-item" href="#concrete-examples">Concrete Examples</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/media-tagging-service/reference.html">API Definition</a></li><li class="pagename"><a class="sidebar-nav-item" href="/apis/hackathon/media-tagging-service/swagger.html">Swagger</a></li></ul></nav></div><div class="off-canvas-wrapper"><div class="off-canvas-wrapper-inner" data-off-canvas-wrapper=""><div class="off-canvas position-left hide-for-large" id="mobileMenu" data-off-canvas="" data-auto-focus="false"></div><div class="off-canvas-content" data-off-canvas-content=""><div class="small-12 medium-10 medium-offset-1 large-8 large-offset-3 xlarge-8 xxlarge-6 columns end api-content"><h1 id="overview" data-magellan-destination="overview">Overview</h1>
<p>The Media Tagging Service enables developers to understand the content of an image by leveraging existing machine learning models in an easy to use REST API. Integration with Expedia domain like DesMet and Gaia is also provided.</p>
<p>Here is the list of the external services available through this service:</p>
<ul>
<li>Google Vision API: <a href="https://cloud.google.com/vision/">https://cloud.google.com/vision/</a></li>
<li>Microsoft Computer Vision API: <a href="https://www.microsoft.com/cognitive-services/en-us/computer-vision-api">https://www.microsoft.com/cognitive-services/en-us/computer-vision-api</a></li>
<li>Pollo Loco (Expedia - experimental): In house Image classification Neural Network trained on Lodging Images (room, bathroom, lobby, etc)</li>
</ul>
<h1 id="media-tagging-service-usage-guide" data-magellan-destination="media-tagging-service-usage-guide">Media Tagging Service Usage Guide</h1>
<h2 id="how-to-use-the-tagging-api-" data-magellan-destination="how-to-use-the-tagging-api-">How to use the Tagging API?</h2>
<p>Simply POST an URL or the Image binary to the REST endpoint of the service. The response will contain all the information that the external services discovered analyzing the pixels of the provided image.</p>
<h3 id="example-providing-the-image-url" data-magellan-destination="example-providing-the-image-url">Example providing the image URL</h3>
<pre><code>curl -u [USERNAME]:[PASSWORD] -X POST -F mediaUrl=[URL] &#39;http://services.expediapartnercentral.com/image-tag/v2&#39;
</code></pre><p>Where:</p>
<ul>
<li>USERNAME: Your Partner Hackathon username</li>
<li>PASSWORD: Your Partner Hackathon password</li>
<li>URL: the URL of the image to analyze</li>
</ul>
<h3 id="concrete-examples" data-magellan-destination="concrete-examples">Concrete Examples</h3>
<h4 id="input-image-1" data-magellan-destination="input-image-1">Input Image 1</h4>
<p><img src="/files/imgtagging_fig1.jpg" alt="figure1" title="Figure 1"></p>
<h4 id="response-from-service" data-magellan-destination="response-from-service">Response from service</h4>
<pre><code class="lang-json">{
  &quot;mediaUrl&quot;: &quot;http://payorwait.com/wp-content/uploads/2016/11/Arrival.jpg&quot;,
  &quot;filename&quot;: null,
  &quot;label&quot;: [
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;person&quot;,
      &quot;confidence&quot;: 0.999724805355072
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;standing&quot;,
      &quot;confidence&quot;: 0.8148471117019653
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;people&quot;,
      &quot;confidence&quot;: 0.6929631233215332
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;posing&quot;,
      &quot;confidence&quot;: 0.6628249883651733
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;people_group&quot;,
      &quot;confidence&quot;: 0.5390625
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;people&quot;,
      &quot;confidence&quot;: 0.8929030299186707
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;audience&quot;,
      &quot;confidence&quot;: 0.7217474579811096
    }
  ],
  &quot;safesearch&quot;: [
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;adult&quot;,
      &quot;confidence&quot;: 0.007412955164909363
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;racy&quot;,
      &quot;confidence&quot;: 0.010760887525975704
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;adult&quot;,
      &quot;confidence&quot;: 0.2
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;medical&quot;,
      &quot;confidence&quot;: 0.2
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;spoof&quot;,
      &quot;confidence&quot;: 0.2
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;violence&quot;,
      &quot;confidence&quot;: 0.2
    }
  ],
  &quot;landmark&quot;: [],
  &quot;text&quot;: [
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;description&quot;,
      &quot;value&quot;: &quot;æµ¦T\n&quot;
    }
  ],
  &quot;face&quot;: [
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;face&quot;,
      &quot;age&quot;: 43,
      &quot;gender&quot;: &quot;Male&quot;,
      &quot;confidence&quot;: 0,
      &quot;faceRectangle&quot;: {
        &quot;width&quot;: 280,
        &quot;height&quot;: 280,
        &quot;left&quot;: 597,
        &quot;top&quot;: 38
      }
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;face&quot;,
      &quot;age&quot;: 26,
      &quot;gender&quot;: &quot;Female&quot;,
      &quot;confidence&quot;: 0,
      &quot;faceRectangle&quot;: {
        &quot;width&quot;: 269,
        &quot;height&quot;: 269,
        &quot;left&quot;: 1415,
        &quot;top&quot;: 216
      }
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;face&quot;,
      &quot;age&quot;: 39,
      &quot;gender&quot;: &quot;Female&quot;,
      &quot;confidence&quot;: 0,
      &quot;faceRectangle&quot;: {
        &quot;width&quot;: 203,
        &quot;height&quot;: 203,
        &quot;left&quot;: 1091,
        &quot;top&quot;: 359
      }
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;face&quot;,
      &quot;age&quot;: 48,
      &quot;gender&quot;: &quot;Female&quot;,
      &quot;confidence&quot;: 0,
      &quot;faceRectangle&quot;: {
        &quot;width&quot;: 182,
        &quot;height&quot;: 207,
        &quot;left&quot;: 1737,
        &quot;top&quot;: 323
      }
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;face&quot;,
      &quot;age&quot;: 61,
      &quot;gender&quot;: &quot;Male&quot;,
      &quot;confidence&quot;: 0,
      &quot;faceRectangle&quot;: {
        &quot;width&quot;: 189,
        &quot;height&quot;: 189,
        &quot;left&quot;: 133,
        &quot;top&quot;: 201
      }
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;face&quot;,
      &quot;age&quot;: 32,
      &quot;gender&quot;: &quot;Male&quot;,
      &quot;confidence&quot;: 0,
      &quot;faceRectangle&quot;: {
        &quot;width&quot;: 151,
        &quot;height&quot;: 151,
        &quot;left&quot;: 833,
        &quot;top&quot;: 303
      }
    }
  ]
}
</code></pre>
<p><em>*Minor modification done to response above for clarity</em></p>
<h4 id="face-detection-overlay" data-magellan-destination="face-detection-overlay">Face detection overlay</h4>
<p><img src="/files/imgtagging_fig2.png" alt="figure1" title="Figure 2"></p>
<h4 id="input-image-2" data-magellan-destination="input-image-2">Input Image 2</h4>
<p><img src="/files/imgtagging_fig3.jpg" alt="figure3" title="Figure 3"></p>
<h4 id="response-from-service-2" data-magellan-destination="response-from-service-2">Response from service</h4>
<pre><code class="lang-json">{
  &quot;mediaUrl&quot;: &quot;http://www.gomadrid.com/sights/royal-palace.jpg&quot;,
  &quot;filename&quot;: null,
  &quot;label&quot;: [
     {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;road&quot;,
      &quot;confidence&quot;: 0.9917759895324707
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;outdoor&quot;,
      &quot;confidence&quot;: 0.9785417914390564
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;building&quot;,
      &quot;confidence&quot;: 0.8720086216926575
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;government building&quot;,
      &quot;confidence&quot;: 0.8116967082023621
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;building_&quot;,
      &quot;confidence&quot;: 0.7734375
    },
    {
      &quot;source&quot;: &quot;MICROSOFT_VISION&quot;,
      &quot;name&quot;: &quot;outdoor_&quot;,
      &quot;confidence&quot;: 0.00390625
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;plaza&quot;,
      &quot;confidence&quot;: 0.9118772149085999
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;landmark&quot;,
      &quot;confidence&quot;: 0.874650239944458
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;city&quot;,
      &quot;confidence&quot;: 0.7963883280754089
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;town square&quot;,
      &quot;confidence&quot;: 0.7591147422790527
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;palace&quot;,
      &quot;confidence&quot;: 0.6427467465400696
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;downtown&quot;,
      &quot;confidence&quot;: 0.6211763620376587
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;facade&quot;,
      &quot;confidence&quot;: 0.5975915193557739
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;panorama&quot;,
      &quot;confidence&quot;: 0.5064948797225952
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;cityscape&quot;,
      &quot;confidence&quot;: 0.5026489496231079
    }
  ],
  &quot;landmark&quot;: [
    {
      &quot;source&quot;: &quot;GAIA&quot;,
      &quot;name&quot;: &quot;Joy Madrid, Madrid, Spain&quot;,
      &quot;confidence&quot;: 1,
      &quot;lat&quot;: &quot;40.417203&quot;,
      &quot;lng&quot;: &quot;-3.70647&quot;,
      &quot;value&quot;: &quot;6228741&quot;
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;Royal Palace of Madrid&quot;,
      &quot;confidence&quot;: 0.9437345862388611,
      &quot;lat&quot;: &quot;40.418258&quot;,
      &quot;lng&quot;: &quot;-3.714022636413574&quot;,
      &quot;address&quot;: {
        &quot;address&quot;: &quot;Real AlcÃ¡zar de Madrid, 28013 Madrid, Spain&quot;,
        &quot;city&quot;: &quot;Madrid&quot;,
        &quot;country&quot;: &quot;Spain&quot;,
        &quot;longName&quot;: &quot;Royal Palace of Madrid&quot;
      }
    },
    {
      &quot;source&quot;: &quot;GOOGLE_VISION&quot;,
      &quot;name&quot;: &quot;Madrid&quot;,
      &quot;confidence&quot;: 0.8963629603385925,
      &quot;lat&quot;: &quot;40.424996&quot;,
      &quot;lng&quot;: &quot;-3.692161&quot;,
      &quot;address&quot;: {
        &quot;address&quot;: &quot;Real AlcÃ¡zar de Madrid, 28013 Madrid, Spain&quot;,
        &quot;city&quot;: &quot;Madrid&quot;,
        &quot;country&quot;: &quot;Spain&quot;,
        &quot;longName&quot;: &quot;Royal Palace of Madrid&quot;
      }
    }
  ],
  &quot;text&quot;: [],
  &quot;face&quot;: []
}
</code></pre>
<p><em>*Minor modification done to response above for clarity</em></p>
</div></div></div></div></div><footer class="row full-width" id="site-footer"><div class="large-8 large-centered columns"><div class="links text-center"><a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Expedia PartnerCentral</a> | <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Knowledge Base</a> | <a class="link-item" href="/terms">Terms and Conditions</a> | <a class="link-item" href="/privacy">Privacy Policy</a> | <a class="link-item" href="/license">License Agreement</a></div><div class="show-for-large"><div class="footer-logo">&nbsp;</div></div><div id="footer-copyright">&copy; 2017 Expedia, Inc. All rights reserved. Confidential and proprietary.</div></div></footer></body></html>