<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ConnectivityContent - </title><meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Expedia Connectivity</title>

<link rel="stylesheet" href="/css/normalize.css">
<link rel="stylesheet" href="/css/foundation.min.css">
<link rel="stylesheet" href="/css/code/styles/github-gist.css">
<link rel="stylesheet" href="/css/styles.css">

<link rel="icon" href="/favicon.ico" />
<link rel="stylesheet" href="/css/he-animate.css">

<script src="/js/jquery.js"></script>
<script src="/js/vendor/modernizr.js"></script>
<script src="/js/highlight.pack.js"></script>
<script src="/js/foundation.min.js"></script>
<script src="/js/Core.js"></script>
<script src="/js/he-main.js"></script>
<script src="/js/he-plugins.js"></script>
<script src="/js/he-smoothscroll.js"></script>
<script src="/js/he-waypoints.js"></script>
<script>
    $(document).ready(function() {
        $('.api-content pre>code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
        if (document.cookie.indexOf('NOTE_SHOWN') == -1) {
            $('#note').show()
        }
        $('#close').on('click', function() {
            document.cookie = 'NOTE_SHOWN=true';
            $('#note').hide();
            Core.onScroll();
        });
        Core.init();
    });

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-79394707-1', 'auto');
    ga('send', 'pageview');
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT, gaTrack: true, gaId: 'UA-79394707-1'}, 'google_translate_element');
    }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head><body class="body-grey-background"><div id="google_translate_element" style="display: none;"></div>
<header id="site-navigation">
    <div id="note" style="display:none">
        <a id="close"><img src="/images/fi-x.svg" /></a>
        <span class="line">Welcome to the new Expedia Connectivity site. </span>
        <span class="line"><a href="http://goo.gl/forms/FYq9R3ympLvot89v2" target="_blank">Give feedback</a>. </span>
    </div>
    <nav id="nav-top" class="row full-width">
        <div class="inner">
            <ul>
                <li id="hotelnav" style="display:none"><a href="/test-properties/hotels">Hotels</a></li>
                <li id="apikeynav" style="display:none"><a href="/test-properties/apikeys">API Keys</a></li>
                <li id="logoutnav" style="display:none"><a href="/test-properties/" onclick="logout();">Logout</a></li>
            </ul>
        </div>
    </nav>
    <nav id="nav-main" class="row full-width">
        <div class="inner">
            <a id="logo" href="/">
                <img src="/images/DevLogo_40k.png" />
            </a>

            <div id="menu-toggle" class="hide-for-large-up"></div>
            <div id="menu-wrap">
                <div class="hide-for-large-up"></div>
                <ul>
                    <li class="mainlink"><a href="/providers">Connectivity for Providers</a></li>
                    <li class="mainlink"><a href="/properties">Connectivity for Properties</a></li>
                    <li class="mainlink"><a href="/systems">Systems</a></li>
                    <li class="mainlink"><a href="/developer">Developer APIs</a></li>
                    <li class="mainlink"><a href="/contact-us">Contact Us</a></li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<div class="row full-width"><div class="large-6 large-centered medium-10 medium-centered columns simple-content"><h1 id="connectivitycontent" data-magellan-destination="connectivitycontent">ConnectivityContent</h1>
<p>Markdown content for <strong><a href="https://ExpediaConnectivity.com">https://ExpediaConnectivity.com</a></strong></p>
<p>Add or edit content on a branch here and once merged to master changes will be reflected on the site within minutes.</p>
<h1 id="to-create-new-api-documentation" data-magellan-destination="to-create-new-api-documentation">To create new API Documentation</h1>
<p>There are 3 ways to get started adding your API content.</p>
<ol>
<li>Manually add a directory for your API and add or copy markdown files as required.  This can be done by cloning this git repo locally and editing locally or via the browser in ewegithub.</li>
<li>Use the TeamCity build to generate an initial version of the API documentation based on a swagger endpoint then edit as for method 1.</li>
<li>Clone the partner-api-web repo locally and then use node commands to generate the initial API documentation from swagger.</li>
</ol>
<h2 id="method-1-online-editor" data-magellan-destination="method-1-online-editor">Method 1. Online editor</h2>
<ul>
<li>Visit the <a href="https://github.com/ExpediaInc/ConnectivityContent">ConnectivityContent repo</a></li>
<li>Ensure you are logged in</li>
<li>Navigate to the file you wish to edit</li>
<li>At the top right is an &#39;edit&#39; and &#39;delete&#39; button.</li>
<li>Save changes as a new branch and create a pull request (for production)</li>
<li>To create a file, click the &#39;+&#39; icon beside the folder name.  Use &#39;/&#39; to indicate a sub directory (which are auto-created).</li>
</ul>
<h4 id="previewing-changes" data-magellan-destination="previewing-changes">Previewing changes</h4>
<p>A preview version is generated for each branch in this repo</p>
<ul>
<li>Push your work to your branch</li>
<li>Wait a few minutes (or frantically mash the refresh button)</li>
<li>Navigate to <a href="http://your-branch.partner-api-preview.test.expedia.com/">http://your-branch.partner-api-preview.test.expedia.com/</a></li>
<li>Bask in the glory of your changes</li>
</ul>
<p>Note that your branch name may require some transformation before it can be used as a valid preview hostname.  Any non-alphanumeric characters will be replaced with <code>-</code>.  For example, a branch called <code>lindsay/my-great-api</code> will be available at <code>http://my-great-api.partner-api-preview.test.expedia.com/</code>.</p>
<p>=======</p>
<h2 id="method-2-use-teamcity-build-to-generate-documentation-from-swagger-url" data-magellan-destination="method-2-use-teamcity-build-to-generate-documentation-from-swagger-url">Method 2. Use TeamCity build to generate documentation from swagger URL</h2>
<p>A teamcity build can be used to generate the reference documentation file from a Swagger JSON URL <a href="https://eps-teamcity.tools.expedia.com/viewType.html?buildTypeId=partner_api_web_InternalApi_SwaggerScript">here</a>.
Then you can edit as described in Method 1.</p>
<p><img src="https://expediaconnectivity.com/images/build-from-swagger-json.png" alt="Use TeamCity to build from swagger.json"></p>
<h2 id="method-3-on-a-personal-build-setup" data-magellan-destination="method-3-on-a-personal-build-setup">Method 3. On a personal build setup</h2>
<p>Clone the <a href="https://github.com/ExpediaInc/ConnectivityContent">ConnectivityContent</a>
Clone the <a href="https://github.com/ExpediaInc/partner-api-web">partner-api-web</a> repo and follow its README.md.
The steps are essentially:</p>
<ul>
<li>Run <code>./install.sh</code> from within the partner-api-web directory.</li>
<li>Create a new directory with the name of your new API under internal-api-web/apis. The generater will try and make a sensible name from your directory name. <em>e.g. my-great-app will be given the name My Great App</em></li>
<li>Create a new <strong>.md</strong> file in the newly-created API directory. <em>e.g internal-api-web/apis/my-great-app/quick-start.md</em></li>
<li><p>Return to the partner-api-web directory and run:</p>
<pre><code> ./build.sh --content ../ConnectivityContent/;node server.js
</code></pre></li>
<li>Open <a href="http://localhost:8080">http://localhost:8080</a> in your browser.</li>
</ul>
<h2 id="check-for-broken-links" data-magellan-destination="check-for-broken-links">Check for broken links</h2>
<p>Use the TeamCity link to run a report to find any broken links</p>
<ol>
<li>Partner API Web <a href="https://eps-teamcity.tools.expedia.com/project.html?projectId=partner_api_web&amp;branch_partner_api_web1CommitPhase=__all_branches__">TeamCity</a></li>
<li>run Check Links. </li>
<li>view the site-link-results reports under the artifacts link in TeamCity</li>
<li>fix any broken links in your files or notify the relevant team(s) of broken links in their files</li>
</ol>
<h2 id="swagger-cross-domain-support" data-magellan-destination="swagger-cross-domain-support">Swagger Cross-Domain Support</h2>
<p>To use the Swagger-UI, HTTP requests from our site need to be able to hit JSON endpoints on an external server (which is hosting Swagger).  This can be a problem as these requests
are cross-domain, which is a security measure most browsers have in place to stop malicious scripts accessing and manipulating content on another site, with the credentials of the
currently logged-in user.</p>
<p>Due to this, server admins are required to explicitly allow pages to be accessed cross-domain, and are otherwise blocked by the browser. To allow Swagger to be accessed externally,
the following should be done:</p>
<ol>
<li><p>Add the Access-Control-Allow-Origin header to the Swagger JSON endpoint (requested via HTTP GET), as well as  to our host:</p>
<pre><code>Access-Control-Allow-Origin: http://www.foo.com
</code></pre><p>Or simply allow any host to access the page:</p>
<pre><code>Access-Control-Allow-Origin: *
</code></pre></li>
<li><p>Additionally, browsers will do a &quot;preflight&quot; request.  This is a HTTP OPTIONS request (not GET or POST) to each endpoint of your host, sent before the actual HTTP POST/GET/etc request.  The response to these requests should have:</p>
<p>2.1. The same <code>Access-Control-Allow-Origin</code> header as in Step 1.
2.2. A comma-separated list of HTTP Methods supported by the endpoint. Eg.</p>
<pre><code>Access-Control-Allow-Methods: GET, POST, DELETE
</code></pre><p>2.3. If your endpoint requires authentication or cookies (eg. HTTP Basic Auth), then add the following header:</p>
<pre><code>Access-Control-Allow-Credentials: true
</code></pre><p>2.4. If your endpoint requires certain header parameters set (eg. X-User-Id), then add the following header with a comma-separated list of header parameters:</p>
<pre><code>Access-Control-Allow-Headers: X-User-Id, Client-Id, Content-Type
</code></pre><blockquote>
<p>Note: You may be able to use &#39;*&#39; instead of listing each header individually</p>
</blockquote>
<p>2.5. If your endpoint <em>returns</em> header parameters you would like to expose (eg. X-Response-Id), then add the following header:</p>
<pre><code>Access-Control-Expose-Headers: X-Response-Id, Content-Type
</code></pre><blockquote>
<p>Note: You may be able to use &#39;*&#39; instead of listing each header individually</p>
</blockquote>
<p>2.6. Swagger-UI also provide their own guide on setting up CORS (Cross-Origin Resource Sharing) available on the bottom of their <a href="https://github.com/swagger-api/swagger-ui#cors-support]">Github Page</a>.</p>
<p>For more information, try the <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing#Preflight_example">Wiki Page</a> for it.</p>
</li>
</ol>
</div></div><footer id="site-footer" class="row full-width">
    <div class="large-8 large-centered columns">
        <div class="links text-center">
            <a class="link-item" href="https://www.expediapartnercentral.com" target="_blank">Expedia PartnerCentral</a> |
            <a class="link-item" href="https://expediagso.secure.force.com/kb/pkb_Home?l=en_US" target="_blank">Knowledge Base</a> |
            <a class="link-item" href="/terms">Terms and Conditions</a> |
            <a class="link-item" href="/privacy">Privacy Policy</a> |
            <a class="link-item" href="/license">License Agreement</a>
        </div>
        <div class="show-for-large-up">
            <div class="footer-logo">&nbsp;</div>
        </div>
        <div id="footer-copyright">© 2016 Expedia, Inc. All rights reserved. Confidential and proprietary.</div>
    </div>
</footer>
</body></html>